<!DOCTYPE html>
<html>
<body>

<h1>JavaScript Fetch API</h1>
<h2>The fetch() Method</h2>
<p id="demo">Fetch a file to change this text.</p>

<form action="/download" method="post">
    <input type="text" name="itag" value="17">
    <button type=""> submit</button>
</form>

<button onclick="sasf()">download</button>

<script>
fetch("https://hacker18.pythonanywhere.com/yt_downloader", {
            "headers": {
                "content-type": "application/x-www-form-urlencoded"
            },
            "body": `url=https://www.youtube.com/watch?v=0PrDHxnT59o`,
            "method": "POST"
        })
        .then(response => response.json())
            .then(json => {
              console.log(json)
              document.getElementById("demo").innerHTML = json.avalibility
              });

        function saf(){
            fetch("http://127.0.0.1:5000/download", {
            "headers": {
                "content-type": "application/x-www-form-urlencoded"
            },
            "body": `itag=17`,
            "method": "POST"
        })
        .then(console.log('done'))

        }
</script>

</body>
</html>
